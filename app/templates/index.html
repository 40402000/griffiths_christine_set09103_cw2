{% extends "base.html" %}
 
{% block title %} Home {% endblock %}

{% block head %}
	{{ super() }}
{% endblock %}

{% block content %}
	<h1>Hi, {{ current_user.username }}!</h1>
	{% if form %}
    	<form action="" method="post">
        		{{ form.hidden_tag() }}
        	<p>
            		{{ form.post.label }}<br>
            		{{ form.post(cols=32, rows=4) }}<br>
            		{% for error in form.post.errors %}
            		<span style="color: red;">[{{ error }}]</span>
            		{% endfor %}
        	</p>
        	<p>{{ form.submit() }}</p>
    	</form>
	{% endif %}
	{% for post in posts %}
        	{% include '_post.html' %}
    	{% endfor %}
    	{% if prev_url %}
    	<a href="{{ prev_url }}">Newer posts</a>
    	{% endif %}
    	{% if next_url %}
    	<a href="{{ next_url }}">Older posts</a>
    	{% endif %}
	<script>
        //Posts could potentially be numerous, this button brings user back to top and navigation //
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("topBtn").style.display = "block";
            } else {
                document.getElementById("topBtn").style.display = "none";
            }
        }
        
        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }
        </script>
    
{% endblock %}

{% block scripts %}
	{{ super() }}
{% endblock %}
</body>

